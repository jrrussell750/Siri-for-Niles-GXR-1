Please note:

This file is under construction and will be updated several times during the next few weeks.  You can contact me at john@nichcom.com if
you have questions or suggestions.


You can configure a raspberry pi as a Niles GXR-2 controller and then use Siri to voice control the Niles through the use of shortcuts.  


Overview:

1.	Connect a display, keyboard, mouse, and power supply to the raspberry pi.
2.	Build the latest version of the raspberry pi operating system on a micro SD card.
3.	Insert the micro SD card into a raspberry pi and boot it up.
4.	Configure the wireless connection of the raspberry pi for access to your local network.
5.	Verify that Apache is working.
6.	Copy files from github repository to raspberry pi.
7.	Connect the wired connection of the raspberry pi to the Expansion port of the Niles GXR-2.
8.	Record the IP address of your raspberry pi's wireless connection for use in the shortcut(s).
9.	Create and test first shortcut on your Iphone to Get contents of URL.
10.	Add additional shortcut(s) as required.


Details

Items required:

  	Raspberry pi 3 or above with appropriate power supply
	Micro SD Card
	HDMI monitor and cable  
	Keyboard with touch pad or mouse
	Computer with SD card reader (used to download and install the raspberry pi operating system on the Micro SD card)
	Access to a wireless LAN with Internet access
	Access to a Niles GXR-2 controller in working condition
	Ethernet patch cable (raspberry pi wired LAN to GXR-2 expansion port)
	An iPhone 6 or above with IOS 15 and functioning Siri

Copying files from github

	This github repository contains a file called siri.php.  Once the apache web server is properly configured on the raspberry pi, 
	the file can be copied to the /var/www/html directory and an iPhone shortcut can be created to access it using a URL.  The shortcut
	will contain zone and device information in the URL, and the siri.php file will use it to create a customized control string that it 
	sends to the Niles GXR-2. Navigate to the 


Creating and testing the first shortcut

	a.  Open the siri shortcuts app.
	b.  Press the plus sign (+) in the upper right corner of the app.
	c.  Click on Shortcut Name and type in something like Turn On Niles.
	d.  Click on Add Action.  
	e.  In the search window that appears, type in Get Contents of URL.
	f.  Click on URL and enter the following:

	http://<enter ip address of your niles pi here>/siri.php?zone=<zone> Room&device=<device>

        Note:  Youâ€™ll need to use IP, zone, and device names from your system.  Also, the names are case sensitive, so make sure they are spelled 
	and capitalized correctly.  You can also edit the zone and device names in the siri.php file to make it easier to refer to them in the URL.

	g.  Test your shortcut.

 